(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{102:function(e,t,n){e.exports={app:"app_app__uCHl-"}},104:function(e,t,n){e.exports={wrapper:"modal-overlay_wrapper__2tvkv"}},107:function(e,t,n){e.exports={iconWrapper:"spinner_iconWrapper__2LEP1",spin:"spinner_spin__1iWiP"}},11:function(e,t,n){e.exports={container:"common_container__1O6ty",form:"common_form__3e3RJ",disclaimer:"common_disclaimer__2DeGw"}},110:function(e,t,n){e.exports={wrapper:"order_wrapper__1J5td"}},123:function(e,t,n){},201:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(34),i=n.n(a),s=n(41),o=(n(123),n(6)),d=n(10),u=n(102),l=n.n(u),j=n(5),p=n(75),m=n.n(p),b=function(e){try{var t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(n){return n}},O=function(e,t){try{var n=JSON.stringify(t);localStorage.setItem("".concat(e),n)}catch(c){console.log(c)}},f=s.c,x=function(){return Object(s.b)()},_=n(0),h=function(){var e=f((function(e){return e.dataApiReducer})).dataApi,t=Object(d.i)().ingredientId,n=e.filter((function(e){return e._id===t}))[0],r=Object(d.j)().url;return Object(c.useEffect)((function(){r&&O("ingredientInModal",r)}),[r]),n?Object(_.jsxs)("section",{className:"".concat(m.a.modalMain," "),children:[Object(_.jsx)("img",{src:n.image_large,alt:n.name,className:"mr-4"}),Object(_.jsx)("p",{className:"text text_type_main-medium mb-4",children:n.name}),Object(_.jsx)("p",{className:"text text_type_main-small mb-4",children:"\u041f\u0440\u0435\u0432\u043e\u0441\u0445\u043e\u0434\u043d\u044b\u0435 \u043a\u043e\u0442\u043b\u0435\u0442\u044b \u0438\u0437 \u043c\u0430\u0440\u0441\u0438\u0430\u043d\u0441\u043a\u043e\u0439 \u041c\u0430\u0433\u043d\u043e\u043b\u0438\u0438 \u0434\u043b\u044f \u0444\u0438\u0440\u043c\u0435\u043d\u043d\u044b\u0445 \u043a\u043e\u0441\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0431\u0443\u0440\u0433\u0435\u0440\u043e\u0432, \u043d\u0430\u0431\u0438\u0440\u0430\u044e\u0449\u0438\u0439 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c \u043f\u043e \u0432\u0441\u0435\u0439 \u0432\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0439"}),Object(_.jsxs)("ul",{className:"".concat(m.a.modalProps," pl-1 mt-8"),children:[Object(_.jsxs)("li",{className:"mr-5",children:[Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:n.calories})]}),Object(_.jsxs)("li",{className:"mr-5",children:[Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:n.proteins})]}),Object(_.jsxs)("li",{className:"mr-5",children:[Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:n.fat})]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:n.carbohydrates})]})]})]}):Object(_.jsx)(_.Fragment,{})},g="GET_SELECTED_INGREDIENT",y="RESET_SELECTED_INGREDIENT";var v=n(4),N=n(104),E=n.n(N),C=function(e){var t=e.children,n=e.onClose;return Object(_.jsx)("div",{className:E.a.wrapper,"data-name":"overlay",onClick:function(e){e.target===e.currentTarget&&n()},children:t})},S=n(77),T=n.n(S),I=function(e){var t=e.header,n=e.onClose,c=document.getElementById("reactModals");return r.a.useEffect((function(){var e=function(e){"Escape"===e.key&&n()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[n]),i.a.createPortal(Object(_.jsx)(C,{onClose:n,children:Object(_.jsxs)("div",{className:"".concat(T.a.modalWrapper," pl-10 pt-10 pr-10 pb-15"),children:[Object(_.jsxs)("section",{className:T.a.header,children:[Object(_.jsx)("p",{className:"text text_type_main-large",children:t}),Object(_.jsx)("span",{className:"icon_close",children:Object(_.jsx)(v.CloseIcon,{type:"primary",onClick:n})})]}),e.children]})}),c)};function R(e){return e.ok,e.json()}var w="https://norma.nomoreparties.space/api/",A="wss://norma.nomoreparties.space/orders",k=function(e){var t=e.endpoint,n=e.method,c=void 0===n?"GET":n,r=e.body,a=void 0===r?"":r,i=e.header,s=void 0===i?{}:i;return"GET"===c?fetch("".concat(w).concat(t),{method:"GET",headers:s}):"POST"===c||"PATCH"===c?fetch("".concat(w).concat(t," "),{method:c,headers:s,body:JSON.stringify(a)}):void 0};function F(){fetch("".concat(w,"auth/token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:b("refreshToken")})}).then(R).then((function(e){var t,n;if(e&&e.success)return e.accessToken&&(t=e.accessToken.split("Bearer ")[1],n=e.refreshToken),t&&(O("token",t),O("refreshToken",n),M(e.user)),e;z(),H(e.status)})).catch((function(e){z(),H(e.status)}))}var L="GET_USER_INFO",P="ADD_USER_INFO",D="USER_INFO_REQUEST_FAILED",q="USER_INFO_REQUEST_SUCCESS",B="RESET_USER_INFO",U="USER_INFO_STATUS";function G(){return{type:L}}function W(e){return{type:P,payload:e}}function z(){return{type:D}}function M(e){return{type:q,payload:e}}function H(e){return{type:U,payload:e}}var J=function(){return function(e){e(G()),k({endpoint:"auth/user",method:"GET",body:"",header:{"Content-Type":"application/json",authorization:"Bearer "+b("token")}}).then(R).then((function(t){if(t&&t.success)return e(M(t.user)),e(H(t.success)),t;e(z()),e(H(t.message)),"jwt expired"===t.message&&b("refreshToken")?(F(),k({endpoint:"auth/user",method:"GET",body:"",header:{"Content-Type":"application/json",authorization:"Bearer "+b("token")}}).then(R).then((function(t){if(t&&t.success)return e(M(t.user)),e(H(t.success)),t}))):(e(z()),e(H(t.message)))})).catch((function(t){e(z()),e(H(t.message))}))}},Z="GET_RESET_PASSWORD_TOKEN_REQUEST",Q="GET_RESET_PASSWORD_TOKEN_SUCCESS",V="GET_RESET_PASSWORD_TOKEN_FAILED",K="GET_RESET_PASSWORD_TOKEN_STATUS",Y="RESET_PASSWORD_REQUEST",X="RESET_PASSWORD_SUCCESS",$="RESET_PASSWORD_FAILED",ee="RESET_PASSWORD_STATUS";function te(e){return{type:K,payload:e}}function ne(e){return{type:ee,payload:e}}var ce=function(e){return function(t){t({type:Y}),k({endpoint:"password-reset/reset",method:"POST",body:e,header:{"Content-Type":"application/json"}}).then(R).then((function(e){if(e&&e.success)return t({type:X}),t(ne(e.message)),e;throw Promise.reject(e.message)})).catch((function(e){return t({type:$}),t(ne(e.message)),e}))}},re=function(e){return function(t){t({type:Z}),k({endpoint:"password-reset",method:"POST",body:e,header:{"Content-Type":"application/json"}}).then(R).then((function(e){if(e&&e.success)return t({type:Q}),t(te(e.message)),e;throw Promise.reject(e.message)})).catch((function(e){return t({type:V}),t(te(e.message)),e}))}},ae=n(11),ie=n.n(ae);function se(){var e=f((function(e){return e.password.getTokenStatus})),t=f((function(e){return e.userInfo})),n=t.userInfo,a=t.userInfoRequest,i=r.a.useState(""),s=Object(j.a)(i,2),u=s[0],l=s[1],p=r.a.useRef(null),m=Object(d.g)(),b=x();Object(c.useEffect)((function(){b(J())}),[b]);return Object(c.useEffect)((function(){"Reset email sent"===e&&(l(""),b(te("")),m.replace({pathname:"/reset-password",state:{fromForgotPassword:!0}}))}),[e,b,m]),a&&n&&!n.name?null:n&&!n.name?Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("main",{className:ie.a.main,children:Object(_.jsxs)("div",{className:ie.a.container,children:[Object(_.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(_.jsxs)("form",{className:"".concat(ie.a.form," mb-20"),onSubmit:function(e){e.preventDefault(),b(re({email:u}))},children:[Object(_.jsx)(v.Input,{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",onChange:function(e){return l(e.target.value)},value:u,error:!1,ref:p,onIconClick:function(){setTimeout((function(){var e;return null===p||void 0===p||null===(e=p.current)||void 0===e?void 0:e.focus()}),0)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(_.jsx)(v.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]}),Object(_.jsxs)("div",{className:" text text_type_main-default text_color_inactive ".concat(ie.a.disclaimer," mb-4"),children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?  ",Object(_.jsx)(o.b,{to:"/login",children:Object(_.jsx)(v.Button,{type:"secondary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})})}):Object(_.jsx)(d.a,{to:"/"})}var oe=n(55),de=n.n(oe),ue="GET_DATA_API",le="GET_DATA_API_FAILED",je="GET_DATA_API_SUCCESS",pe="SET_DATA_API";function me(){return{type:ue}}function be(){return{type:le}}function Oe(e){return{type:je,payload:e}}function fe(e){return{type:pe,payload:e}}var xe=function(e){return function(t){t(me()),fetch("".concat(w).concat(e)).then(R).then((function(e){e&&e.success?t(Oe(e.data)):t(be())})).catch((function(e){t(be())}))}},_e=function(e){return function(t){t(me()),fetch("".concat(w,"ingredients")).then(R).then((function(e){if(e&&e.success)return t(Oe(e.data)),e;t(be())})).then((function(n){console.log(n);var c,r=null===n||void 0===n?void 0:n.data.filter((function(t){return t._id===e}));t((c=r[0],{type:g,payload:c}))})).catch((function(e){t(be())}))}};function he(){var e=f((function(e){return{selectedIngredient:e.selectedIngredient}})).selectedIngredient,t=Object(d.i)().ingredientId,n=x();return r.a.useEffect((function(){n(_e(t))}),[n,t]),e?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("main",{children:Object(_.jsx)("section",{className:"".concat(de.a.wrapper),children:Object(_.jsxs)("div",{className:de.a.card,children:[Object(_.jsx)("img",{src:e.image_large,alt:e.name,className:"mr-4"}),Object(_.jsx)("p",{className:"text text_type_main-medium mb-4",children:e.name}),Object(_.jsx)("p",{className:"text text_type_main-small mb-4",children:"\u041f\u0440\u0435\u0432\u043e\u0441\u0445\u043e\u0434\u043d\u044b\u0435 \u043a\u043e\u0442\u043b\u0435\u0442\u044b \u0438\u0437 \u043c\u0430\u0440\u0441\u0438\u0430\u043d\u0441\u043a\u043e\u0439 \u041c\u0430\u0433\u043d\u043e\u043b\u0438\u0438 \u0434\u043b\u044f \u0444\u0438\u0440\u043c\u0435\u043d\u043d\u044b\u0445 \u043a\u043e\u0441\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0431\u0443\u0440\u0433\u0435\u0440\u043e\u0432, \u043d\u0430\u0431\u0438\u0440\u0430\u044e\u0449\u0438\u0439 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c \u043f\u043e \u0432\u0441\u0435\u0439 \u0432\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0439"}),Object(_.jsxs)("ul",{className:"".concat(de.a.modalProps," pl-1 mt-8"),children:[Object(_.jsxs)("li",{className:"mr-5",children:[Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:e.calories})]}),Object(_.jsxs)("li",{className:"mr-5",children:[Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:e.proteins})]}),Object(_.jsxs)("li",{className:"mr-5",children:[Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:e.fat})]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:e.carbohydrates})]})]})]})})})," "]}):Object(_.jsx)(_.Fragment,{})}var ge="GET_USER_LOGIN",ye="GET_USER_LOGIN_FAILED",ve="GET_USER_LOGIN_SUCCESS";function Ne(){return{type:ye}}var Ee=function(e,t){return function(n){n({type:ge}),fetch("".concat(w).concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(R).then((function(e){var t,c;e&&e.success?(e.accessToken&&(t=e.accessToken.split("Bearer ")[1],c=e.refreshToken),t&&(O("token",t),O("refreshToken",c),n(W(e.user)))):n(Ne())})).catch((function(e){n(Ne())}))}};function Ce(){var e=f((function(e){return e.userInfo})),t=e.userInfo,n=e.userInfoRequest,a=r.a.useState(""),i=Object(j.a)(a,2),s=i[0],u=i[1],l=r.a.useState(""),p=Object(j.a)(l,2),m=p[0],b=p[1],O=r.a.useState(""),h=Object(j.a)(O,2),g=h[0],y=h[1],N=r.a.useRef(null),E=Object(d.g)(),C=x(),S=(E.location.state||{from:{pathname:"/"}}).from;Object(c.useEffect)((function(){C(J())}),[C]);var T=Object(c.useCallback)((function(e){e.preventDefault(),C(Ee("auth/login",{email:m,password:s}))}),[m,s,C]);return Object(c.useEffect)((function(){E.location.state&&y(g)}),[E.location.state,g]),n&&!t.name?Object(_.jsx)(_.Fragment,{}):t.name?Object(_.jsx)(d.a,{to:S}):Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("main",{className:ie.a.main,children:Object(_.jsxs)("div",{className:ie.a.container,children:[Object(_.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0412\u0445\u043e\u0434"}),Object(_.jsxs)("form",{className:"".concat(ie.a.form," mb-20"),onSubmit:T,children:[Object(_.jsx)(v.Input,{type:"email",placeholder:"E-mail",onChange:function(e){return b(e.target.value)},value:m,error:!1,ref:N,onIconClick:function(){setTimeout((function(){var e;return null===(e=N.current)||void 0===e?void 0:e.focus()}),0)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(_.jsx)(v.PasswordInput,{onChange:function(e){u(e.target.value)},value:s,name:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(_.jsx)(v.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(_.jsxs)("div",{className:" text text_type_main-default text_color_inactive ".concat(ie.a.disclaimer," mb-4"),children:["\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?  ",Object(_.jsx)(o.b,{to:"/register",children:Object(_.jsx)(v.Button,{type:"secondary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]}),Object(_.jsxs)("span",{className:" text text_type_main-default text_color_inactive ".concat(ie.a.disclaimer," "),children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?  ",Object(_.jsxs)(o.b,{to:"/forgot-password",children:[" ",Object(_.jsx)(v.Button,{type:"secondary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})," "]})]})})})}var Se=n(42),Te=n.n(Se),Ie=n(43),Re=n.n(Ie),we=n(207),Ae=function(e){var t=e.card,n=Object(d.h)(),c=t._id,r=Object(we.a)({type:"constructor",item:{card:t},collect:function(e){return{isDragging:e.isDragging()}}}),a=Object(j.a)(r,2),i=a[0].isDragging,s=a[1],u=i?.4:1;return Object(_.jsx)("li",{"data-id":t._id,"data-cypress":"ingredient",className:"".concat(Re.a.ingedientCard," mr-4 mt-5 mb-10"),style:{opacity:u},ref:s,children:Object(_.jsxs)(o.b,{to:{pathname:"/ingredients/".concat(c),state:{background:n}},className:"".concat(Re.a.ingedientCard," "),children:[Object(_.jsx)("img",{src:t.image,alt:t.name,className:"mr-4"}),t.counter&&t.counter>0?Object(_.jsx)(v.Counter,{count:t.counter,size:"default"}):"",Object(_.jsxs)("div",{className:"".concat(Re.a.priceWrapper," mt-1"),children:[Object(_.jsx)("p",{className:"text text_type_digits-default mt-1 mr-2",children:t.price}),Object(_.jsx)(v.CurrencyIcon,{type:"primary"})]}),Object(_.jsx)("p",{className:"".concat(Re.a.titleCard," text text_type_main-default  mt-1"),children:t.name})]},c)})},ke=function(){var e=f((function(e){return e.dataApiReducer})),t=e.dataApiRequest,n=e.dataApiFailed,a=e.dataApi,i=x();r.a.useEffect((function(){a.length<1&&i(xe("ingredients"))}),[i,a.length]);var s=r.a.useState("\u0411\u0443\u043b\u043a\u0438"),o=Object(j.a)(s,2),d=o[0],u=o[1],l=Object(c.useRef)(null),p=Object(c.useRef)(null),m=Object(c.useRef)(null),b=Object(c.useRef)(null),O=function(e){var t;if(u(e),m&&"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"===e)null===(t=m.current)||void 0===t||t.scrollIntoView({behavior:"smooth"});else if(m&&"\u0421\u043e\u0443\u0441\u044b"===e){var n;null===(n=b.current)||void 0===n||n.scrollIntoView({behavior:"smooth"})}else if(m&&"\u0411\u0443\u043b\u043a\u0438"===e){var c;null===(c=p.current)||void 0===c||c.scrollIntoView({behavior:"smooth"})}},h=["\u0411\u0443\u043b\u043a\u0438","\u041d\u0430\u0447\u0438\u043d\u043a\u0438","\u0421\u043e\u0443\u0441\u044b"].map((function(e){return Object(_.jsx)(v.Tab,{value:e,active:d===e,onClick:O,children:Object(_.jsx)("p",{className:"text text_type_main-default",children:e})},e)})),g=function(e,t,n,c){var r=a.filter((function(t){return t.type===e}));return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("p",{className:"text text_type_main-medium",ref:c,children:n},e),Object(_.jsx)("ul",{className:"".concat(Te.a.ingedientType," pl-1"),children:r.map((function(e){return Object(_.jsx)(Ae,{card:e},"".concat(e._id))}))},t)]})},y=n?Object(_.jsx)("p",{children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445"}):t?Object(_.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):Object(_.jsxs)(_.Fragment,{children:[g("bun","bunList","\u0411\u0443\u043b\u043a\u0438",p),g("main","mainList","\u041d\u0430\u0447\u0438\u043d\u043a\u0438",m),g("sauce","sauceList","\u0421\u043e\u0443\u0441\u044b",b)]});return Object(_.jsxs)("section",{className:"".concat(Te.a.wrapper," mt-10 mb-10 mr-10"),children:[Object(_.jsx)("p",{className:"text text_type_main-large mt-40",children:" \u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(_.jsx)("div",{className:"".concat(Te.a.tabsWrapper,"  mt-5"),ref:l,children:h}),Object(_.jsx)("div",{className:"".concat(Te.a.ingedientCardContainer," mt-10"),onScroll:function(){var e,t=null===(e=l.current)||void 0===e?void 0:e.getBoundingClientRect().top;t&&(p.current&&p.current.getBoundingClientRect().top>t&&p.current.getBoundingClientRect().top<t+200?u("\u0411\u0443\u043b\u043a\u0438"):m.current&&m.current.getBoundingClientRect().top>t&&m.current.getBoundingClientRect().top<t+200?u("\u041d\u0430\u0447\u0438\u043d\u043a\u0438"):m.current&&m.current.getBoundingClientRect().top>t+400?u("\u0411\u0443\u043b\u043a\u0438"):b.current&&b.current.getBoundingClientRect().top>t&&b.current.getBoundingClientRect().top<t+200?u("\u0421\u043e\u0443\u0441\u044b"):b.current&&b.current.getBoundingClientRect().top>t+400&&u("\u041d\u0430\u0447\u0438\u043d\u043a\u0438"))},children:y})]})},Fe=n(2),Le=function(){var e=f((function(e){return e.orderNumber.orderNumber}));return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("p",{className:"text text_type_digits-large",children:e}),Object(_.jsx)("p",{className:"text text_type_main-medium mt-8 mb-15",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(_.jsx)(v.CheckMarkIcon,{type:"primary"}),Object(_.jsx)("p",{className:"text text_type_main-default mt-15",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive mt-2",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},Pe=n(209),De=n(208),qe=Object(c.memo)((function(e){var t=e.ingredient,n=e.onDeleteIngredient,c=e.id,r=e.moveCard,a=e.findCard,i=a(c).index,s=Object(we.a)((function(){return{type:"sorting",item:{id:c,originalIndex:i},collect:function(e){return{isDragging:e.isDragging()}},end:function(e,t){var n=e.id,c=e.originalIndex;t.didDrop()||r(n,c)}}}),[c,i,r]),o=Object(j.a)(s,2),d=o[0].isDragging,u=o[1],l=Object(De.a)((function(){return{accept:"sorting",hover:function(e){var t=e.id;if(t!==c){var n=a(c).index;r(t,n)}}}}),[a,r]),p=Object(j.a)(l,2)[1],m=d?0:1;return Object(_.jsxs)("li",{ref:function(e){u(p(e))},style:{cursor:"move",opacity:m},className:"mr-4",children:[Object(_.jsx)(v.DragIcon,{type:"primary"}),Object(_.jsx)(v.ConstructorElement,{isLocked:!1,text:"".concat(t.name),price:t.price,thumbnail:t.image,handleClose:function(){return n(t.key,t._id)}})]})})),Be=n(106),Ue=n.n(Be),Ge="GET_ORDER_API",We="GET_ORDER_API_FAILED",ze="GET_ORDER_API_SUCCESS",Me="RESET_ORDER";function He(){return{type:We}}var Je=function(e,t){return function(n){n({type:Ge}),fetch("".concat(w).concat(e),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer "+b("token")},body:JSON.stringify({ingredients:t})}).then(R).then((function(e){return e&&e.success?(n((t=e.order.number,{type:ze,payload:t})),e):(n(He()),e);var t})).catch((function(e){return n(He()),e}))}},Ze="GET_INGREDIENTS_CONSTRUCTOR_BUN",Qe="GET_INGREDIENTS_CONSTRUCTOR_MAIN",Ve="ADD_INGREDIENTS_CONSTRUCTOR_MAIN",Ke="RESET_INGREDIENTS_CONSTRUCTOR",Ye="SORT_INGREDIENTS_CONSTRUCTOR";function Xe(e){return{type:Ze,payload:e}}function $e(e){return{type:Qe,payload:e}}var et=n(107),tt=n.n(et),nt=function(){var e=Object(_.jsxs)("svg",{width:"68",height:"66",viewBox:"0 0 68 66",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(_.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.9249 2.91091C30.3362 -0.970307 37.6638 -0.970302 43.0751 2.91092L61.6345 16.2224C67.0459 20.1036 69.3102 26.9832 67.2433 33.2632L60.1542 54.8016C58.0873 61.0815 52.1592 65.3333 45.4703 65.3333H22.5296C15.8408 65.3333 9.91274 61.0815 7.84578 54.8016L0.756717 33.2632C-1.31024 26.9832 0.954096 20.1036 6.36546 16.2224L24.9249 2.91091Z",fill:"url(#paint0_radial_45627_888)",fillOpacity:"0.25"}),Object(_.jsx)("defs",{children:Object(_.jsxs)("radialGradient",{id:"paint0_radial_45627_888",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(34 32.6667) rotate(136.146) scale(47.1499 35.4679)",children:[Object(_.jsx)("stop",{stopColor:"#801AB3",stopOpacity:"0"}),Object(_.jsx)("stop",{offset:"1",stopColor:"#4C4CFF",stopOpacity:"0.5"})]})})]}),t=Object(_.jsxs)("svg",{width:"107",height:"100",viewBox:"0 0 107 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(_.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M103.944 38.453C108.019 45.5983 108.019 54.4017 103.944 61.547L88.5996 88.453C84.5247 95.5983 76.994 100 68.8442 100H38.1558C30.006 100 22.4753 95.5983 18.4004 88.453L3.05617 61.547C-1.01872 54.4017 -1.01872 45.5983 3.05617 38.453L18.4004 11.547C22.4753 4.40169 30.006 0 38.1558 0L68.8442 0C76.994 0 84.5247 4.40169 88.5996 11.547L103.944 38.453Z",fill:"url(#paint0_radial_45627_887)",fillOpacity:"0.25"}),Object(_.jsx)("defs",{children:Object(_.jsxs)("radialGradient",{id:"paint0_radial_45627_887",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(53.5 50) rotate(-43.0632) scale(73.2274 55.0025)",children:[Object(_.jsx)("stop",{stopColor:"#801AB3",stopOpacity:"0"}),Object(_.jsx)("stop",{offset:"1",stopColor:"#4C4CFF"})]})})]}),n=Object(_.jsxs)("svg",{width:"98",height:"102",viewBox:"0 0 98 102",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(_.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.36637 37.3873C-1.45546 45.5044 -1.45545 56.4957 4.36637 64.6127L24.3336 92.4518C30.1554 100.569 40.4748 103.965 49.8947 100.865L82.2023 90.2313C91.6223 87.1309 98 78.2387 98 68.2055V33.7945C98 23.7612 91.6222 14.8691 82.2023 11.7687L49.8947 1.13508C40.4748 -1.96536 30.1554 1.43114 24.3336 9.54819L4.36637 37.3873Z",fill:"url(#paint0_radial_45627_886)",fillOpacity:"0.25"}),Object(_.jsx)("defs",{children:Object(_.jsxs)("radialGradient",{id:"paint0_radial_45627_886",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(49 51) rotate(-46.1458) scale(70.7248 53.2019)",children:[Object(_.jsx)("stop",{stopColor:"#801AB3",stopOpacity:"0"}),Object(_.jsx)("stop",{offset:"1",stopColor:"#4C4CFF"})]})})]});return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:tt.a.iconWrapper,children:[Object(_.jsx)("span",{children:n}),Object(_.jsx)("span",{children:t}),Object(_.jsx)("span",{children:e})]}),Object(_.jsx)("p",{className:"text_type_main-medium",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})]})},ct=n(28),rt=n.n(ct),at=Object(c.memo)((function(){var e,t,n=f((function(e){return e.dataApiReducer.dataApi})),a=f((function(e){return e.constructorList})),i=a.bun,s=a.main,o=f((function(e){return e.orderNumber})),u=o.orderApiRequest,l=o.orderNumber,p=o.orderApiFailed,m=f((function(e){return e.userInfo})).userInfo,h=Object(c.useState)(0),g=Object(j.a)(h,2),y=g[0],N=g[1],E=Object(c.useState)(!1),C=Object(j.a)(E,2),S=C[0],T=C[1],R=x(),w=Object(d.g)();Object(c.useEffect)((function(){O("burgerIngredient",{bun:i,main:s})}),[i,s]),Object(c.useEffect)((function(){var e=b("burgerIngredient"),t=e.bun,n=e.main;(t||n)&&(R(Xe(t)),R($e(n)))}),[R]);var A=function(){R({type:Me}),R({type:Ke});var e=n.map((function(e){return Object(Fe.a)(Object(Fe.a)({},e),{},{counter:0})}));R(fe(e))};r.a.useMemo((function(){var e=0,t=0;s?s.forEach((function(e){t+=e.price})):e=0,i[0]&&i[0].name?e+=2*i[0].price:e=0,N(e+t)}),[s,i]);var k=function(e,t){var c=s.filter((function(t){return t.key!==e}));R($e(c));var r=n.map((function(e){return e.counter?Object(Fe.a)(Object(Fe.a)({},e),{},{counter:(null===e||void 0===e?void 0:e.counter)-1}):e}));R(fe(r))},F=function(e){var t="\u0432\u0435\u0440\u0445";return"bottom"===e&&(t="\u043d\u0438\u0437"),Object(_.jsx)("li",{className:"mr-4","data-cypress":"constructor-section",children:Object(_.jsx)(v.ConstructorElement,{type:e,isLocked:!0,text:"".concat(i[0].name," (").concat(t,")"),price:i[0].price,thumbnail:i[0].image})},Object(Pe.a)())},L=Object(c.useCallback)((function(e){var t=s.filter((function(t){return"".concat(t.key)===e}))[0],n=s.findIndex((function(e){return e.key===t.key}));return{card:t,index:n}}),[s]),P=Object(c.useCallback)((function(e,t){var n=L(e),c=n.card,r=n.index,a=Ue()(s,{$splice:[[r,1],[t,0,c]]});R({type:Ye,payload:a})}),[L,s,R]),D=Object(De.a)((function(){return{accept:"sorting"}})),q=Object(j.a)(D,2)[1],B=Object(De.a)({accept:"constructor",drop:function(e){var t;"bun"===e.card.type?R(Xe(Object(Fe.a)(Object(Fe.a)({},e.card),{},{key:Object(Pe.a)()}))):R((t=Object(Fe.a)(Object(Fe.a)({},e.card),{},{key:Object(Pe.a)()}),{type:Ve,payload:t}));var c=n.map((function(t){return"bun"===t.type&&"bun"===e.card.type?t._id===e.card._id?Object(Fe.a)(Object(Fe.a)({},t),{},{counter:1}):Object(Fe.a)(Object(Fe.a)({},t),{},{counter:0}):t.counter||t._id!==e.card._id?t.counter&&t._id===e.card._id?Object(Fe.a)(Object(Fe.a)({},t),{},{counter:t.counter+1}):t:Object(Fe.a)(Object(Fe.a)({},t),{},{counter:1})}));R(fe(c))}}),U=Object(j.a)(B,2)[1];Object(c.useEffect)((function(){i[0]?T(!0):T(!1)}),[i]);var G=Object(_.jsx)("li",{"data-cypress":"constructor-section",className:"".concat(rt.a.emptyTopElement," mr-4 text text_type_main-default"),children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u043b\u043a\u0443"}),W=Object(_.jsx)("li",{"data-cypress":"constructor-section",className:"".concat(rt.a.emptyBottomElement," mr-4 text text_type_main-default"),children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u043b\u043a\u0443"}),z=Object(_.jsx)("li",{"data-cypress":"constructor-section",className:"".concat(rt.a.emptyIngredientElements," mr-4 text text_type_main-default"),children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0447\u0438\u043d\u043a\u0443"});return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("section",{ref:U,className:rt.a.wrapper,children:[Object(_.jsxs)("ul",{"data-cypress":"constructor-ul",ref:q,className:"".concat(rt.a.scroll," mt-25 pl-1"),children:[(null===(e=i[0])||void 0===e?void 0:e.name)?F("top"):G,s.length?s.map((function(e){return Object(_.jsx)(qe,{ingredient:e,onDeleteIngredient:k,id:"".concat(e.key),moveCard:P,findCard:L},e.key)})):z,(null===(t=i[0])||void 0===t?void 0:t.name)?F("bottom"):W]}),Object(_.jsxs)("div",{className:"".concat(rt.a.totalWrapper," ").concat(S?"":rt.a.nonActiveButton," mt-10 mb-15"),children:[Object(_.jsxs)("div",{className:"mr-10",children:[Object(_.jsx)("p",{"data-cypress":"total-cost",className:"text text_type_digits-medium mt-1 mr-2 ",children:y}),Object(_.jsx)(v.CurrencyIcon,{type:"primary"})]}),Object(_.jsx)(v.Button,{type:"primary",size:"medium",onClick:function(){m.name?function(){if(i){var e=[i[0]._id],t=s.map((function(e){return e._id})),n=e.concat(t);R(Je("orders",n))}}():i[0].name&&w.push({pathname:"/login"})},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]}),l||u||p?Object(_.jsxs)(I,{header:"",onClose:A,children:[l?Object(_.jsx)(Le,{}):"",!l&&u?Object(_.jsx)(nt,{}):"",p?Object(_.jsx)(_.Fragment,{children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"}):""]}):null]})})),it=n(206),st=n(112);function ot(){var e=x();return r.a.useEffect((function(){e(J())}),[e]),Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("main",{children:Object(_.jsxs)(it.a,{backend:st.a,children:[Object(_.jsx)(ke,{}),Object(_.jsx)(at,{})]})})})}function dt(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("main",{className:"m-10",children:Object(_.jsx)("p",{children:"\u0423\u043f\u0441! \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})})})}var ut="GET_USER_REGISTER_API",lt="GET_USER_REGISTER_API_FAILED",jt="GET_USER_REGISTER_API_SUCCESS";function pt(){return{type:lt}}var mt=function(e,t){return function(n){n({type:ut}),k({endpoint:e,method:"POST",body:t}),fetch("".concat(w).concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(R).then((function(e){e&&e.success?(n({type:jt,payload:e}),n(W(e.user))):n(pt())})).catch((function(e){n(pt())}))}};function bt(){var e=f((function(e){return e.userInfo})),t=e.userInfo,n=e.userInfoRequest,a=r.a.useState(""),i=Object(j.a)(a,2),s=i[0],u=i[1],l=r.a.useState(""),p=Object(j.a)(l,2),m=p[0],b=p[1],O=r.a.useState(""),h=Object(j.a)(O,2),g=h[0],y=h[1],N=x();Object(c.useEffect)((function(){N(J())}),[N]);var E=r.a.useRef(null),C=function(){setTimeout((function(){var e;return null===E||void 0===E||null===(e=E.current)||void 0===e?void 0:e.focus()}),0)};return n&&t&&!t.name?null:t&&!t.name?Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("main",{className:ie.a.main,children:Object(_.jsxs)("div",{className:ie.a.container,children:[Object(_.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(_.jsxs)("form",{className:"".concat(ie.a.form," mb-20"),children:[Object(_.jsx)(v.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:function(e){return b(e.target.value)},value:m,error:!1,ref:E,onIconClick:C,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(_.jsx)(v.Input,{type:"email",placeholder:"E-mail",onChange:function(e){return y(e.target.value)},value:g,error:!1,ref:E,onIconClick:C,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(_.jsx)(v.PasswordInput,{onChange:function(e){u(e.target.value)},value:s,name:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(_.jsx)(v.Button,{type:"primary",size:"medium",onClick:function(e){e.preventDefault(),N(mt("auth/register",{email:g,password:s,name:m}))},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(_.jsxs)("div",{className:" text text_type_main-default text_color_inactive ".concat(ie.a.disclaimer," mb-4"),children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?  ",Object(_.jsx)(o.b,{to:"/login",children:Object(_.jsx)(v.Button,{type:"secondary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})})}):Object(_.jsx)(d.a,{to:"/"})}function Ot(){var e=f((function(e){return e.password.resetPasswordStatus})),t=r.a.useState(""),n=Object(j.a)(t,2),a=n[0],i=n[1],s=r.a.useState(""),u=Object(j.a)(s,2),l=u[0],p=u[1],m=r.a.useRef(null),b=Object(d.g)(),O=b.location.state,h=x();Object(c.useEffect)((function(){"Password successfully reset"===e&&(b.replace({pathname:"/login"}),h(ne("")))}),[e,h,b]);var g=!1;return b.location.state&&(g=O.fromForgotPassword),g?Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("main",{className:ie.a.main,children:Object(_.jsxs)("div",{className:ie.a.container,children:[Object(_.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(_.jsxs)("form",{className:"".concat(ie.a.form," mb-20"),onSubmit:function(e){e.preventDefault(),h(ce({password:a,token:l}))},children:[Object(_.jsx)(v.PasswordInput,{onChange:function(e){i(e.target.value)},value:a,name:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(_.jsx)(v.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:function(e){return p(e.target.value)},value:l,error:!1,ref:m,onIconClick:function(){setTimeout((function(){var e;return null===m||void 0===m||null===(e=m.current)||void 0===e?void 0:e.focus()}),0)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(_.jsx)(v.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(_.jsxs)("div",{className:" text text_type_main-default text_color_inactive ".concat(ie.a.disclaimer," mb-4"),children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?  ",Object(_.jsx)(o.b,{to:"/login",children:Object(_.jsx)(v.Button,{type:"secondary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})})}):Object(_.jsx)(d.a,{to:{pathname:"/forgot-password",state:{fromForgotPassword:!1}}})}var ft=n(53),xt=n(24),_t=n.n(xt),ht=n(35),gt=n.n(ht),yt=n(108),vt=n.n(yt),Nt=n(109),Et=n.n(Nt),Ct=function(e){gt.a.extend(Et.a),gt.a.updateLocale("en",{relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",m:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",mm:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",h:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",hh:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",d:"\u0412\u0447\u0435\u0440\u0430",dd:"{dd} \u0434\u043d\u044f(\u0435\u0439) \u043d\u0430\u0437\u0430\u0434",M:"\u043c\u0435\u0441\u044f\u0446 \u043d\u0430\u0437\u0430\u0434",MM:"%d \u043c\u0435\u0441\u044f\u0446\u0435\u0432 \u043d\u0430\u0437\u0430\u0434",y:"\u0433\u043e\u0434 \u043d\u0430\u0437\u0430\u0434",yy:"%d \u0433\u043e\u0434\u0430(\u043b\u0435\u0442) \u043d\u0430\u0437\u0430\u0434"}}),gt.a.extend(vt.a);var t=gt()(e).format(", HH:mm i-GMT+3");return gt()(e).fromNow(!0)+t},St=function(e){return e.length>60?e.substring(0,60)+"...":e},Tt=function(e){var t=e.order,n=t.createdAt,c=t.number,r=t._id,a=t.name,i=t.ingredients,s=t.status,u=f((function(e){return e.dataApiReducer})).dataApi,l=Object(d.h)(),j=[],p=0;i.forEach((function(e){var t=u.find((function(t){return t._id===e}));t&&(p+=t.price,j=[].concat(Object(ft.a)(j),[t]))}));var m=function(e){var t=e.ingredient,n=e.indexIcon,c=e.length;return Object(_.jsx)("div",{className:"".concat(_t.a.wrapperIconImg),children:Object(_.jsxs)("div",{children:[Object(_.jsx)("img",{src:t.image,alt:"icon"}),5===n&&c>6?Object(_.jsxs)("span",{className:"".concat(_t.a.lastIconIngredient," text text_type_main-default"),children:["+",c-6]}):null]})})};return Object(_.jsx)("li",{className:"".concat(_t.a.container," p-6 ml-0 mr-6 mb-4 mt-4"),children:Object(_.jsxs)(o.b,{to:{pathname:"/".concat(e.path,"/").concat(r),state:{background:l}},className:"".concat(_t.a.ingedientCard," "),children:[Object(_.jsxs)("div",{className:"".concat(_t.a.headerCard," mb-2"),children:[Object(_.jsxs)("p",{className:"text text_type_main-medium",children:["#",c]}),Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:Ct(n)})]}),Object(_.jsx)("h2",{className:"text text_type_main-medium mb-2",children:St(a)}),"feed"===e.path?"":Object(_.jsx)("p",{className:"text text_type_main-small mb-2 textColor2",children:function(e){switch(e){case"done":return"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d";case"pending":return"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f";case"created":return"\u0421\u043e\u0437\u0434\u0430\u043d";default:return""}}(s)}),Object(_.jsxs)("div",{className:"".concat(_t.a.footerCard," "),children:[Object(_.jsx)("div",{className:"".concat(_t.a.wrapperIcons),children:j.map((function(e,t){return t<=5&&Object(_.jsx)(m,{ingredient:e,indexIcon:t,length:j.length},Object(Pe.a)())}))}),Object(_.jsxs)("div",{className:"".concat(_t.a.wrapperPrice),children:[Object(_.jsx)("span",{className:" text text_type_main-medium pr-2",children:p}),Object(_.jsx)(v.CurrencyIcon,{type:"primary"})]})]})]})},r)},It="WS_CONNECTION_START",Rt="WS_CONNECTION_SUCCESS",wt="WS_CONNECTION_ERROR",At="WS_CONNECTION_CLOSED",kt="WS_GET_ORDERS";function Ft(e){return{type:It,payload:e}}function Lt(){return{type:At}}var Pt={wsConnectionStart:Ft,wsConnectionSuccess:function(){return{type:Rt}},wsConnectionError:function(){return{type:wt}},wsConnectionClosed:Lt,wsGetOrders:function(e){return{type:kt,payload:e}}},Dt=n(21),qt=n.n(Dt),Bt=function(){var e,t,n=f((function(e){return e.dataApiReducer})).dataApi,c=f((function(e){return e.wsConnection})),a=c.orders,i=c.total,s=c.totalToday,o=x();r.a.useEffect((function(){n.length<1&&o(xe("ingredients"))}),[o,n.length]),r.a.useEffect((function(){return o(Ft("".concat(A,"/all"))),function(){o(Lt())}}),[o]);var d=function(e){var t=[],n=[];return a.forEach((function(e){"done"===e.status&&t.length<20?t.push(e.number):"pending"===e.status&&n.length<20&&n.push(e.number)})),"done"===e?t:"pending"===e?n:void 0};return a.length?Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("main",{className:qt.a.container,children:[Object(_.jsx)("h1",{className:"text text_type_main-large mb-5 mt-10",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(_.jsxs)("section",{className:qt.a.wrapperOrder,children:[Object(_.jsx)("ul",{className:"".concat(qt.a.orderList," mr-4 mb-5 "),children:n.length>1?null===a||void 0===a?void 0:a.map((function(e){return Object(_.jsx)(Tt,{order:e,path:"feed"},Object(Pe.a)())})):""}),Object(_.jsxs)("div",{className:"".concat(qt.a.\u0441ommonInfo," ml-15"),children:[Object(_.jsxs)("div",{className:"".concat(qt.a.orderDisplay," mt-4 mb-15"),children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{className:"text text_type_main-medium mr-6 mb-6",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(_.jsx)("p",{className:"".concat(qt.a.waveColor," ").concat(qt.a.wrapperStatus,"  text text_type_digits-default"),children:null===(e=d("done"))||void 0===e?void 0:e.map((function(e){return Object(_.jsx)("span",{children:e},Object(Pe.a)())}))})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(_.jsx)("p",{className:"".concat(qt.a.wrapperStatus," text text_type_digits-default"),children:null===(t=d("pending"))||void 0===t?void 0:t.map((function(e){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{children:e},Object(Pe.a)()),Object(_.jsx)("br",{})]})}))})]})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{className:"text text_type_main-medium ",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(_.jsx)("p",{className:"".concat(qt.a.digits," text text_type_digits-large"),children:i})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{className:"text text_type_main-medium mt-15",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(_.jsx)("p",{className:"".concat(qt.a.digits," text text_type_digits-large"),children:s})]})]})]})]})}):Object(_.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432..."})},Ut="USER_LOGOUT_REQUEST",Gt="USER_LOGOUT_REQUEST_FAILED",Wt="USER_LOGOUT_REQUEST_SUCCESS";function zt(){return{type:Gt}}var Mt=function(e){return function(t){t({type:Ut}),fetch("".concat(w,"auth/logout "),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(R).then((function(e){if(e&&e.success){if(e&&e.success)return O("token",""),O("refreshToken",""),t({type:Wt}),t({type:B}),e;throw e.err}return t(zt()),e})).catch((function(e){return t(zt()),e}))}},Ht=n(80),Jt=n.n(Ht),Zt=function(){var e=f((function(e){return e.dataApiReducer})).dataApi,t=f((function(e){return e.wsConnection})).orders,n=x();return r.a.useEffect((function(){e.length<1&&n(xe("ingredients"))}),[n,e.length]),r.a.useEffect((function(){var e=b("token");return n(Ft("".concat(A,"?token=").concat(e))),function(){n(Lt())}}),[n]),t.length?Object(_.jsx)("section",{className:Jt.a.section,children:Object(_.jsx)("ul",{className:"".concat(Jt.a.ordersList," mr-4 mb-5 "),children:null===t||void 0===t?void 0:t.map((function(e){return Object(_.jsx)(Tt,{order:e,path:"profile/orders"},Object(Pe.a)())}))})}):Object(_.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432..."})},Qt=n(110),Vt=n.n(Qt),Kt=n(22),Yt=n.n(Kt),Xt=function(){var e=f((function(e){return e.dataApiReducer})).dataApi,t=f((function(e){return e.wsConnection})).orders,n=Object(d.i)().id,c=Object(d.h)(),a=c.state&&c.state.background,i=x(),s=t.find((function(e){return e._id===n})),o=Array.from(new Set(null===s||void 0===s?void 0:s.ingredients));r.a.useEffect((function(){e.length<1&&i(xe("ingredients"))}),[i,e.length]),r.a.useEffect((function(){if(c.pathname.includes("orders")&&b("token")){var e=b("token");i(Ft("".concat(A,"?token=").concat(e)))}else i(Ft("".concat(A,"/all")))}),[i,c.pathname]);var u=function(t){var n=e.find((function(e){return e._id===t.id})),c=0;return null===s||void 0===s||s.ingredients.forEach((function(e){e===t.id&&c++})),e&&Object(_.jsxs)("li",{className:"".concat(Yt.a.wrapperLi," mb-2"),children:[Object(_.jsx)("div",{className:"".concat(Yt.a.wrapperIconImg," mr-4"),children:Object(_.jsx)("div",{children:Object(_.jsx)("img",{src:null===n||void 0===n?void 0:n.image,alt:"icon"})})}),Object(_.jsx)("p",{className:"".concat(Yt.a.liText," text text_type_main-small mr-6"),children:null===n||void 0===n?void 0:n.name}),Object(_.jsxs)("div",{className:"".concat(Yt.a.liCount," mr-4"),children:[Object(_.jsxs)("div",{className:"text text_type_main-default mr-2",children:[" ",c," "]}),Object(_.jsx)("div",{className:"text text_type_main-default mr-2",children:" x "}),Object(_.jsxs)("div",{className:"text text_type_main-default mr-2",children:["  ",null===n||void 0===n?void 0:n.price," "]}),Object(_.jsx)(v.CurrencyIcon,{type:"primary"})]})]})},l=0;null===s||void 0===s||s.ingredients.forEach((function(t){var n=e.find((function(e){return e._id===t}));n&&(l+=n.price)}));return t.length?Object(_.jsx)("main",{className:Yt.a.orderMain,children:Object(_.jsxs)("section",{className:"".concat(Yt.a.wrapper),children:[Object(_.jsxs)("p",{className:"".concat(a?Yt.a.numberOrderleft:Yt.a.numberOrderCenter," text text_type_main-medium mb-10"),children:["#",null===s||void 0===s?void 0:s.number]}),Object(_.jsx)("h2",{className:"text text_type_main-medium mb-3",children:null===s||void 0===s?void 0:s.name}),Object(_.jsx)("p",{className:"text text_type_main-small mb-15 textColor2",children:function(e){switch(e){case"done":return"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d";case"pending":return"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f";case"created":return"\u0421\u043e\u0437\u0434\u0430\u043d";default:return""}}(null===s||void 0===s?void 0:s.status)}),Object(_.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0421\u043e\u0441\u0442\u0430\u0432"}),Object(_.jsx)("ul",{className:"mb-8",children:o.map((function(e){return Object(_.jsx)(u,{id:e},Object(Pe.a)())}))}),Object(_.jsxs)("div",{className:"".concat(Yt.a.footer),children:[Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:s&&Ct(null===s||void 0===s?void 0:s.createdAt)}),Object(_.jsxs)("div",{className:"mr-4",children:[Object(_.jsx)("span",{className:"text text_type_main-default mr-2",children:l}),Object(_.jsx)(v.CurrencyIcon,{type:"primary"})]})]})]})}):Object(_.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0437\u0430\u043a\u0430\u0437\u0430..."})},$t=function(){return Object(_.jsx)("div",{className:"".concat(Vt.a.wrapper),children:Object(_.jsx)(Xt,{})})},en=n(25),tn=n.n(en);function nn(){var e=f((function(e){return e.userInfo.userInfo.email})),t=f((function(e){return e.userInfo.userInfo.name})),n=f((function(e){return e.userInfo.userInfoRequestFailed})),a=r.a.useState("\u0438\u043c\u044f"),i=Object(j.a)(a,2),s=i[0],u=i[1],l=r.a.useState("email"),p=Object(j.a)(l,2),m=p[0],O=p[1],h=r.a.useState(""),g=Object(j.a)(h,2),y=g[0],N=g[1],E=r.a.useRef(null),C=r.a.useRef(null),S=r.a.useRef(null),T=Object(d.j)().url,I=x();r.a.useEffect((function(){F(),I(J)}),[I]),Object(c.useEffect)((function(){(e||t)&&(u(t),O(e))}),[e,t]);var w=Object(c.useState)(!1),A=Object(j.a)(w,2),L=A[0],P=A[1],D=Object(c.useState)("EditIcon"),q=Object(j.a)(D,2),B=q[0],U=q[1],W=Object(c.useState)("EditIcon"),H=Object(j.a)(W,2),Z=H[0],Q=H[1],V=Object(c.useState)("EditIcon"),K=Object(j.a)(V,2),Y=K[0],X=K[1],$=Object(c.useState)(!0),ee=Object(j.a)($,2),te=ee[0],ne=ee[1],ce=Object(c.useState)(!0),re=Object(j.a)(ce,2),ae=re[0],ie=re[1],se=Object(c.useState)(!0),oe=Object(j.a)(se,2),de=oe[0],ue=oe[1],le=Object(c.useState)("password"),je=Object(j.a)(le,2),pe=je[0],me=je[1];Object(c.useEffect)((function(){me("CheckMarkIcon"===Y?"text":"password")}),[Y]);var be=function(){L||P(!0)},Oe=Object(c.useCallback)((function(){var c;I((c={email:m,name:s,password:y},function(e){e(G()),k({endpoint:"auth/user",method:"PATCH",body:c,header:{"Content-Type":"application/json",authorization:"Bearer "+b("token")}}).then(R).then((function(t){return t&&t.success?(e(M(t.user)),t):(e(z()),"jwt expired"===t.message&&b("refreshToken")?(F(),void k({endpoint:"auth/user",method:"PATCH",body:c,header:{"Content-Type":"application/json",authorization:"Bearer "+b("token")}}).then(R).then((function(t){if(t&&t.success)return e(M(t.user)),t}))):t)})).catch((function(t){e(z())}))})),n?(u(t),O(e),N(""),P(!1),xe()):(P(!1),xe(),N(""))}),[m,s,y,n,I,e,t]),fe=Object(_.jsxs)("div",{className:tn.a.changeButton,children:[Object(_.jsx)(v.Button,{type:"primary",size:"medium",children:" \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "}),Object(_.jsx)("span",{className:"mr-2"}),Object(_.jsx)(v.Button,{type:"secondary",size:"medium",onClick:function(){u(t),O(e),P(!1),xe()},children:" \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c "})]}),xe=function(){U("EditIcon"),Q("EditIcon"),X("EditIcon"),ne(!0),ie(!0),ue(!0)},_e=Object(_.jsxs)("form",{className:"mb-20",onSubmit:function(e){e.preventDefault(),Oe()},children:[Object(_.jsx)(v.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:function(e){u(e.target.value),be()},icon:B,value:s,name:"name",error:!1,ref:E,onIconClick:function(e){be(),ne(!te),U(te?"CheckMarkIcon":"EditIcon"),setTimeout((function(){var e;return null===E||void 0===E||null===(e=E.current)||void 0===e?void 0:e.focus()}),0)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default",disabled:te},"1userProfile"),Object(_.jsx)(v.Input,{type:"email",placeholder:"\u041b\u043e\u0433\u0438\u043d",onChange:function(e){O(e.target.value),be()},icon:Z,value:m,name:"email",error:!1,ref:C,onIconClick:function(e){be(),ie(!ae),Q(ae?"CheckMarkIcon":"EditIcon"),setTimeout((function(){var e;return null===C||void 0===C||null===(e=C.current)||void 0===e?void 0:e.focus()}),0)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default",disabled:ae},"2userProfile"),Object(_.jsx)(v.Input,{type:pe,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){N(e.target.value),be()},icon:Y,value:y,name:"password",error:!1,ref:S,onIconClick:function(e){be(),ue(!de),X(de?"CheckMarkIcon":"EditIcon"),setTimeout((function(){var e;return null===S||void 0===S||null===(e=S.current)||void 0===e?void 0:e.focus()}),0)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default",disabled:de},"3userProfile"),L?fe:""]}),he=Object(_.jsx)(d.a,{to:"/login"}),ge=Object(_.jsx)("main",{children:Object(_.jsxs)("div",{className:"".concat(tn.a.container," mt-30"),children:[Object(_.jsxs)("section",{className:"".concat(tn.a.menu," mr-15"),children:[Object(_.jsx)(o.c,{exact:!0,to:"".concat(T),className:"text text_type_main-medium pt-4 pb-4 ".concat(tn.a.secondary),activeClassName:tn.a.primary,children:" \u041f\u0440\u043e\u0444\u0438\u043b\u044c "}),Object(_.jsx)(o.c,{exact:!0,to:"".concat(T,"/orders"),className:"text text_type_main-medium pt-4 pb-4  ".concat(tn.a.secondary),activeClassName:tn.a.primary,children:" \u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432 "}),Object(_.jsx)(v.Button,{type:"secondary",size:"medium",onClick:function(e){e.preventDefault();var t=b("refreshToken");I(Mt({token:t}))},children:Object(_.jsx)("span",{className:"text text_type_main-medium text_color_inactive ".concat(tn.a.textBtn),children:" \u0412\u044b\u0445\u043e\u0434"})}),Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive mt-20",children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),Object(_.jsx)("section",{children:Object(_.jsxs)(d.d,{children:[Object(_.jsxs)(d.b,{path:"".concat(T),exact:!0,children:[" ",_e]}),Object(_.jsxs)(d.b,{path:"".concat(T,"/orders"),exact:!0,children:[" ",Object(_.jsx)(Zt,{})," "]}),Object(_.jsxs)(d.b,{path:"/profile/orders/:id",children:[" ",Object(_.jsx)($t,{})]})]})})]})});return e?ge:he}var cn=n(113),rn=["children"];function an(e){var t=e.children,n=Object(cn.a)(e,rn),r=f((function(e){return e.userInfo})),a=r.userInfo,i=r.userInfoStatus,s=Object(c.useState)(!1),o=Object(j.a)(s,2),u=o[0],l=o[1],p=x(),m=Object(d.h)();return Object(c.useEffect)((function(){p(J())}),[p]),Object(c.useEffect)((function(){i&&l(!0)}),[i,a]),u?Object(_.jsx)(d.b,Object(Fe.a)(Object(Fe.a)({},n),{},{render:function(){return a.email?t:Object(_.jsx)(d.a,{to:{pathname:"/login",state:{from:m}}})}})):Object(_.jsx)(_.Fragment,{children:"\u0421\u043f\u0438\u043d\u043d\u0435\u0440"})}var sn,on=n(26),dn=n.n(on),un=function(){var e=Object(c.useState)("secondary"),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)("secondary"),i=Object(j.a)(a,2),s=i[0],u=i[1],l=Object(c.useState)("secondary"),p=Object(j.a)(l,2),m=p[0],b=p[1],O=Object(d.g)();return Object(c.useEffect)((function(){"/"===O.location.pathname?(r("primary"),u("secondary"),b("secondary")):"/feed"===O.location.pathname?(r("secondary"),u("primary"),b("secondary")):O.location.pathname.includes("/profile")&&(r("secondary"),u("secondary"),b("primary"))}),[O.location.pathname]),Object(_.jsx)("header",{className:"".concat(dn.a.header," text text_type_main-default  pt-4 pb-4"),children:Object(_.jsxs)("div",{className:dn.a.wrapper,children:[Object(_.jsxs)("section",{children:[Object(_.jsx)("button",{className:"".concat(dn.a.btn," pr-5  mr-2"),children:Object(_.jsxs)(o.b,{to:"/",children:[Object(_.jsx)(v.BurgerIcon,{type:n}),Object(_.jsx)("span",{className:dn.a[n],children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]})}),Object(_.jsx)("button",{className:"".concat(dn.a.btn," pr-5  mr-2"),children:Object(_.jsxs)(o.b,{to:{pathname:"/feed"},children:[Object(_.jsx)(v.ListIcon,{type:s}),Object(_.jsx)("span",{className:dn.a[s],children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})})]}),Object(_.jsx)("section",{children:Object(_.jsx)(o.b,{to:"/",children:Object(_.jsx)(v.Logo,{})})}),Object(_.jsx)("section",{className:dn.a.btn,children:Object(_.jsxs)(o.b,{to:{pathname:"/profile"},children:[Object(_.jsx)(v.ProfileIcon,{type:m}),Object(_.jsx)("span",{className:dn.a[m],children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})})},ln=function(){var e=Object(d.h)(),t=Object(d.g)(),n=x(),r=e.state&&e.state.background,a=Object(c.useState)(!1),i=Object(j.a)(a,2),s=i[0],o=i[1],u=function(){n({type:y}),o(!s),O("ingredientInModal",!1),t.goBack()};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(un,{}),Object(_.jsxs)(d.d,{location:r||e,children:[Object(_.jsx)(d.b,{path:"/",exact:!0,children:Object(_.jsx)(ot,{})}),Object(_.jsx)(d.b,{path:"/ingredients/:ingredientId",exact:!0,children:Object(_.jsx)(he,{})}),Object(_.jsx)(d.b,{path:"/login",exact:!0,children:Object(_.jsx)(Ce,{})}),Object(_.jsx)(d.b,{path:"/register",exact:!0,children:Object(_.jsx)(bt,{})}),Object(_.jsx)(d.b,{path:"/forgot-password",exact:!0,children:Object(_.jsx)(se,{})}),Object(_.jsx)(d.b,{path:"/reset-password",exact:!0,children:Object(_.jsx)(Ot,{})}),Object(_.jsx)(an,{path:"/profile/orders/:id",exact:!0,children:Object(_.jsx)($t,{})}),Object(_.jsx)(an,{path:"/profile",children:Object(_.jsx)(nn,{})}),Object(_.jsx)(an,{path:"/orders/:id",children:Object(_.jsx)($t,{})}),Object(_.jsx)(d.b,{path:"/feed/:id",exact:!0,children:Object(_.jsx)($t,{})}),Object(_.jsx)(d.b,{path:"/feed",children:Object(_.jsx)(Bt,{})}),Object(_.jsx)(d.b,{children:Object(_.jsx)(dt,{})})]}),r&&Object(_.jsx)(d.b,{exact:!0,path:"/ingredients/:ingredientId",children:Object(_.jsx)(I,{header:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",onClose:u,children:Object(_.jsx)(h,{})})}),r&&Object(_.jsx)(d.b,{exact:!0,path:"/feed/:id",children:Object(_.jsx)(I,{header:"",onClose:u,children:Object(_.jsx)(Xt,{})})}),r&&Object(_.jsx)(d.b,{exact:!0,path:"/profile/orders/:id",children:Object(_.jsx)(I,{header:"",onClose:u,children:Object(_.jsx)(Xt,{})})})]})},jn=function(){return Object(_.jsx)("div",{className:"".concat(l.a.app," mb-10"),children:Object(_.jsx)(o.a,{children:Object(_.jsx)(d.d,{children:Object(_.jsx)(d.b,{children:Object(_.jsx)(ln,{})})})})})},pn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,210)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},mn=n(27),bn=n(111),On={bun:[],main:[]},fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze:return Object(Fe.a)(Object(Fe.a)({},e),{},{bun:[t.payload]});case Ve:return Object(Fe.a)(Object(Fe.a)({},e),{},{main:[].concat(Object(ft.a)(e.main),[t.payload])});case Qe:return Object(Fe.a)(Object(Fe.a)({},e),{},{main:t.payload});case Ke:return{bun:[],main:[]};case Ye:return Object(Fe.a)(Object(Fe.a)({},e),{},{main:t.payload});default:return e}},xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.payload;case y:return null;default:return e}},_n={orderApiRequest:!1,orderApiFailed:!1,orderNumber:""},hn={dataApiRequest:!1,dataApiFailed:!1,dataApi:[]},gn={userRegisterApiRequest:!1,userRegisterApiFailed:!1,userRegisterApi:{}},yn={userLoginRequest1:!1,userLoginFailed:!1},vn={userLogoutRequest:!1,userLogoutRequestFailed:!1},Nn={getTokenRequest:!1,getTokenFailed:!1,getTokenStatus:"",resetPasswordRequest:!1,resetPasswordFailed:!1,resetPasswordStatus:""},En={userInfoRequest:!1,userInfoRequestFailed:!1,userInfoStatus:"",userInfo:{name:"",email:""}},Cn={wsConnected:!1,orders:[],total:null,totalToday:null},Sn=Object(mn.b)({dataApiReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(Fe.a)(Object(Fe.a)({},e),{},{dataApiRequest:!0,dataApiFailed:!1});case je:return Object(Fe.a)(Object(Fe.a)({},e),{},{dataApi:t.payload,dataApiRequest:!1});case le:return Object(Fe.a)(Object(Fe.a)({},e),{},{dataApiFailed:!0,dataApiRequest:!1});case pe:return Object(Fe.a)(Object(Fe.a)({},e),{},{dataApi:t.payload});default:return e}},constructorList:fn,selectedIngredient:xn,orderNumber:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:return Object(Fe.a)(Object(Fe.a)({},e),{},{orderApiRequest:!0,orderApiFailed:!1});case ze:return Object(Fe.a)(Object(Fe.a)({},e),{},{orderNumber:t.payload,orderApiRequest:!1});case We:return Object(Fe.a)(Object(Fe.a)({},e),{},{orderApiFailed:!0,orderApiRequest:!1});case Me:return Object(Fe.a)(Object(Fe.a)({},e),{},{orderApiRequest:!1,orderApiFailed:!1,orderNumber:""});default:return e}},userRegisterApi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ut:return Object(Fe.a)(Object(Fe.a)({},e),{},{userRegisterApiRequest:!0,userRegisterApiFailed:!1});case jt:return Object(Fe.a)(Object(Fe.a)({},e),{},{userRegisterApi:t.payload,userRegisterApiRequest:!1});case lt:return Object(Fe.a)(Object(Fe.a)({},e),{},{userRegisterApiFailed:!0,userRegisterApiRequest:!1});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return Object(Fe.a)(Object(Fe.a)({},e),{},{userLoginRequest1:!0,userLoginFailed:!1});case ve:return Object(Fe.a)(Object(Fe.a)({},e),{},{userLoginRequest1:!1,userLoginFailed:!1});case ye:return Object(Fe.a)(Object(Fe.a)({},e),{},{userLoginFailed:!0,userLoginRequest1:!1});default:return e}},userLogout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ut:return Object(Fe.a)(Object(Fe.a)({},e),{},{userLogoutRequest:!0,userLogoutRequestFailed:!1});case Wt:return Object(Fe.a)(Object(Fe.a)({},e),{},{userLogoutRequest:!1,userLogoutRequestFailed:!1});case Gt:return Object(Fe.a)(Object(Fe.a)({},e),{},{userLogoutRequestFailed:!0,userLogoutRequest:!1});default:return e}},password:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(Fe.a)(Object(Fe.a)({},e),{},{getTokenRequest:!0,getTokenFailed:!1});case Q:return Object(Fe.a)(Object(Fe.a)({},e),{},{getTokenRequest:!1,getTokenFailed:!1});case V:return Object(Fe.a)(Object(Fe.a)({},e),{},{getTokenFailed:!0,getTokenRequest:!1});case K:return Object(Fe.a)(Object(Fe.a)({},e),{},{getTokenStatus:t.payload});case Y:return Object(Fe.a)(Object(Fe.a)({},e),{},{resetPasswordRequest:!0,resetPasswordFailed:!1});case X:return Object(Fe.a)(Object(Fe.a)({},e),{},{resetPasswordRequest:!1,resetPasswordFailed:!1});case $:return Object(Fe.a)(Object(Fe.a)({},e),{},{resetPasswordFailed:!0,resetPasswordRequest:!1});case ee:return Object(Fe.a)(Object(Fe.a)({},e),{},{resetPasswordStatus:t.payload});default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(Fe.a)(Object(Fe.a)({},e),{},{userInfo:t.payload});case L:return Object(Fe.a)(Object(Fe.a)({},e),{},{userInfoRequest:!0,userInfoRequestFailed:!1});case q:return Object(Fe.a)(Object(Fe.a)({},e),{},{userInfoRequest:!1,userInfo:t.payload,userInfoRequestFailed:!1});case D:return Object(Fe.a)(Object(Fe.a)({},e),{},{userInfoRequestFailed:!0,userInfoRequest:!1});case B:return Object(Fe.a)(Object(Fe.a)({},e),{},{userInfo:{name:"",email:""}});case U:return Object(Fe.a)(Object(Fe.a)({},e),{},{userInfoStatus:t.payload});default:return e}},wsConnection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rt:return Object(Fe.a)(Object(Fe.a)({},e),{},{error:void 0,wsConnected:!0});case wt:return Object(Fe.a)(Object(Fe.a)({},e),{},{error:t.payload,wsConnected:!1});case At:return Object(Fe.a)(Object(Fe.a)({},e),{},{orders:[],wsConnected:!1});case kt:return Object(Fe.a)(Object(Fe.a)({},e),{},{orders:t.payload.orders,total:t.payload.total,totalToday:t.payload.totalToday});default:return e}}}),Tn=Sn,In=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||mn.c)(Object(mn.a)(bn.a,(sn=Pt,function(e){var t=null;return function(n){return function(c){var r=e.dispatch,a=c.type,i=c.payload,s=sn.wsConnectionSuccess,o=sn.wsConnectionError,d=sn.wsConnectionClosed,u=sn.wsGetOrders;a===It&&(t=new WebSocket(i)),t&&(t.onopen=function(){r(s())},t.onerror=function(){r(o)},t.onmessage=function(e){var t=e.data,n=JSON.parse(t);r(u(n))},t.onclose=function(e){r(d)}),n(c)}}}))),Rn=Object(mn.d)(Tn,In);i.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(s.a,{store:Rn,children:Object(_.jsx)(jn,{})})}),document.getElementById("root")),pn()},21:function(e,t,n){e.exports={container:"feed_container__3cmQk",wrapperOrder:"feed_wrapperOrder__3YO7_",orderList:"feed_orderList__3Z3s1","\u0441ommonInfo":"feed_\u0441ommonInfo__3KkZx",orderDisplay:"feed_orderDisplay__2ZZqr",digits:"feed_digits__8GIHT",waveColor:"feed_waveColor__3RxZm",wrapperStatus:"feed_wrapperStatus__2Qp4d"}},22:function(e,t,n){e.exports={orderMain:"order-component_orderMain__2HbLt",wrapper:"order-component_wrapper__2dVEg",wrapperIconImg:"order-component_wrapperIconImg__3qM5P",wrapperLi:"order-component_wrapperLi__1TL-_",liText:"order-component_liText__2bwKf",liCount:"order-component_liCount__h3Tey",liPrice:"order-component_liPrice__2qWmO",footer:"order-component_footer__3HxU8",numberOrderCenter:"order-component_numberOrderCenter__1MN7L",numberOrderleft:"order-component_numberOrderleft__1GlUp"}},24:function(e,t,n){e.exports={container:"order-item_container__2mrF9",headerCard:"order-item_headerCard__qwrGl",ingedientCard:"order-item_ingedientCard__9VnPz",wrapperIcons:"order-item_wrapperIcons__3lZwy",wrapperIconImg:"order-item_wrapperIconImg__3wT1p",footerCard:"order-item_footerCard__32onO",wrapperPrice:"order-item_wrapperPrice__2aJNT"}},25:function(e,t,n){e.exports={container:"profile_container__1Zs_4",menu:"profile_menu__1Aayd",changeButton:"profile_changeButton__3Lyik",primary:"profile_primary__3XQpq",secondary:"profile_secondary__2Kv1L"}},26:function(e,t,n){e.exports={primary:"app-header_primary__6hF5L",secondary:"app-header_secondary__2HeYS",header:"app-header_header__vL_m6",wrapper:"app-header_wrapper__-crTI",btn:"app-header_btn__sHzkd"}},28:function(e,t,n){e.exports={wrapper:"burger-constructor_wrapper__3S9-a",scroll:"burger-constructor_scroll__3lAdW",constructorCard:"burger-constructor_constructorCard__1Qqva",totalWrapper:"burger-constructor_totalWrapper__3AYW0",nonActiveButton:"burger-constructor_nonActiveButton__1qFv_",emptyTopElement:"burger-constructor_emptyTopElement__InDPW",emptyBottomElement:"burger-constructor_emptyBottomElement__2taFj",emptyIngredientElements:"burger-constructor_emptyIngredientElements__3gZ4h"}},42:function(e,t,n){e.exports={wrapper:"burger-ingredients_wrapper__2d30C",tabsWrapper:"burger-ingredients_tabsWrapper__2CkL6",ingedientCardContainer:"burger-ingredients_ingedientCardContainer__1jgEL",ingedientType:"burger-ingredients_ingedientType__9B37t"}},43:function(e,t,n){e.exports={ingedientCard:"ingredient-card_ingedientCard__1zdnN",priceWrapper:"ingredient-card_priceWrapper__1m-sP",titleCard:"ingredient-card_titleCard__1I_Fn",link:"ingredient-card_link__2QVit"}},55:function(e,t,n){e.exports={wrapper:"ingredient_wrapper__kJv83",card:"ingredient_card__1iaE5",modalProps:"ingredient_modalProps__EbPZZ"}},75:function(e,t,n){e.exports={modalMain:"ingredient-details_modalMain__WeuLy",modalProps:"ingredient-details_modalProps__3BPE-",link:"ingredient-details_link__7ooMU"}},77:function(e,t,n){e.exports={modalWrapper:"modal_modalWrapper__zrg2j",header:"modal_header__HnEuu"}},80:function(e,t,n){e.exports={section:"orders_section__30Hc3",ordersList:"orders_ordersList__3q3wY"}}},[[201,1,2]]]);
//# sourceMappingURL=main.fef7b98c.chunk.js.map